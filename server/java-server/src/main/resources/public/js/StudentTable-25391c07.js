import{d as a,b as e,m as t,_ as l,c as o,e as n,q as s,s as i,E as r,H as d,I as c,J as u,o as m,y as g,n as p,K as h}from"./index-2741d3dc.js";/* empty css              *//* empty css            *//* empty css               *//* empty css                     *//* empty css                 *//* empty css               */import{g as b,s as f}from"./personServ-2b68bf73.js";import{a as w,m as _}from"./messageBox-46718661.js";const k=a({data:()=>({numName:"",dataList:[],pagination:{currentPage:1,pageSize:10,dataTotal:0}}),created(){this.getDataPage()},methods:{doQuery(){this.pagination.currentPage=1,this.getDataPage()},handleChangePage(a){this.pagination.currentPage=a,this.getDataPage()},async getDataPage(){const a=await b(this.numName,this.pagination.currentPage);this.pagination.dataTotal=a.data.dataTotal,this.pagination.pageSize=a.data.pageSize,this.dataList=a.data.dataList},addItem(){e.push({path:"/StudentInfo"})},editItem(a){e.push({path:"/StudentInfo",query:{studentId:a}})},async deleteItem(a){if(!(await w("确认删除学生吗?")))return;const e=await f(a);0==e.code?_(this,"删除成功"):_(this,e.msg)},familyMember(a){e.push({path:"/FamilyMember",query:{studentId:a}})},async doExport(){200!=await t("/api/student/getStudentListExcl","学生.xlsx",{numName:this.numName})&&_(this,"导出失败！")}}}),y={class:"base_form"},x=n("div",{class:"base_header"},[n("div",{class:"blue_column"}),n("div",{class:"base_title"},"学生管理")],-1),C={class:"base_query_oneLine",style:{width:"97%"}},I={class:"query_left"},v={class:"query_right"},j={class:"table-content"},P={class:"pagin"};const S=l(k,[["render",function(a,e,t,l,b,f){const w=r,_=d,k=h,S=c,N=u;return m(),o("div",y,[x,n("div",C,[n("div",I,[s(w,{class:"commButton",onClick:e[0]||(e[0]=e=>a.addItem())},{default:i((()=>[g("添加")])),_:1})]),n("div",v,[s(_,{modelValue:a.numName,"onUpdate:modelValue":e[1]||(e[1]=e=>a.numName=e)},{default:i((()=>[g("学号或姓名")])),_:1},8,["modelValue"]),s(w,{class:"commButton",onClick:e[2]||(e[2]=e=>a.doQuery())},{default:i((()=>[g("查询")])),_:1}),s(w,{class:"commButton",onClick:e[3]||(e[3]=e=>a.doExport())},{default:i((()=>[g("导出")])),_:1})])]),n("div",j,[s(S,{data:a.dataList,"header-cell-style":{color:"#2E2E2E",fontSize:"10px",fontWeight:"400",background:"rgb(242,242,242)"},"row-style":{height:"10px"},"cell-style":{padding:"2px"},style:{width:"100%"}},{default:i((()=>[s(k,{label:"序号",fixed:"left",width:"50",color:"black"},{default:i((a=>[g(p(a.$index+1),1)])),_:1}),s(k,{label:"学号",color:"black",align:"center",width:"100"},{default:i((a=>[g(p(a.row.num),1)])),_:1}),s(k,{label:"姓名",color:"black",align:"center",width:"100"},{default:i((a=>[g(p(a.row.name),1)])),_:1}),s(k,{label:"院系",color:"black",align:"center",width:"100"},{default:i((a=>[g(p(a.row.dept),1)])),_:1}),s(k,{label:"专业",color:"black",align:"center",width:"100"},{default:i((a=>[g(p(a.row.major),1)])),_:1}),s(k,{label:"班级",color:"black",align:"center",width:"100"},{default:i((a=>[g(p(a.row.className),1)])),_:1}),s(k,{label:"证件号码",color:"black",align:"center",width:"100"},{default:i((a=>[g(p(a.row.card),1)])),_:1}),s(k,{label:"性别",color:"black",align:"center",width:"100"},{default:i((a=>[g(p(a.row.genderName),1)])),_:1}),s(k,{label:"出生日期",color:"black",align:"center"},{default:i((a=>[g(p(a.row.birthday),1)])),_:1}),s(k,{label:"邮箱",color:"black",align:"center"},{default:i((a=>[g(p(a.row.email),1)])),_:1}),s(k,{label:"电话",color:"black",align:"center"},{default:i((a=>[g(p(a.row.phone),1)])),_:1}),s(k,{label:"地址",color:"black",align:"center"},{default:i((a=>[g(p(a.row.address),1)])),_:1}),s(k,{label:"操作",color:"black",align:"center",width:"260"},{default:i((e=>[s(w,{class:"commButton",onClick:t=>a.editItem(e.row.studentId)},{default:i((()=>[g("基本信息")])),_:2},1032,["onClick"]),s(w,{class:"commButton",onClick:t=>a.familyMember(e.row.studentId)},{default:i((()=>[g("家庭成员")])),_:2},1032,["onClick"]),s(w,{class:"commButton",onClick:t=>a.deleteItem(e.row.studentId)},{default:i((()=>[g("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","header-cell-style"])]),n("div",P,[s(N,{background:"",style:{"margin-top":"15px"},total:a.pagination.dataTotal,"current-page":a.pagination.currentPage,"page-size":a.pagination.pageSize,onCurrentChange:a.handleChangePage,layout:"total, prev, pager, next, jumper"},null,8,["total","current-page","page-size","onCurrentChange"])])])}]]);export{S as default};
