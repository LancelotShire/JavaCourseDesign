import{d as t,D as e,_ as s,c as i,e as d,q as o,h as l,n as a,w as n,v as c,F as r,G as m,o as p}from"./index-2741d3dc.js";/* empty css             *//* empty css                 */import{c as u,d as h,e as g}from"./systemServ-4fa92e96.js";import{m as N,a as f}from"./messageBox-46718661.js";const v=t({data:()=>({nodes:[],editedNode:{},currentNode:{},deleteId:-1,dialogTitle:"",defaultProps:{id:"id",children:"children",label:"label"}}),async created(){this.nodes=await u()},methods:{onNodeClick(t){this.currentNode=t},addItemFirst(){this.editedNode={},this.editedNode.pid=null,this.editedNode.parentTitle="",this.dialogTitle="添加字典名对话框",e("favDialog").show()},addItem(){this.editedNode={},this.editedNode.pid=this.currentNode.id,this.editedNode.parentTitle=this.currentNode.title,this.dialogTitle="添加字典项对话框",e("favDialog").show()},editItem(){this.editedNode=this.currentNode,this.dialogTitle="修改菜单对话框",e("favDialog").show()},close(){e("favDialog").close()},async confirm(){this.close();const t=await h(this.editedNode);0==t.code?(N(this,"保存成功"),this.nodes=await u()):N(this,t.msg)},async deleteItem(){if(!(await f("确认删除吗?")))return;const t=await g(this.currentNode.id);0==t.code?(N(this,"删除成功"),this.nodes=await u()):N(this,t.msg)}}}),x={class:"base_form"},y=d("div",{class:"base_header"},[d("div",{class:"blue_column"}),d("div",{class:"base_title"},"字典管理")],-1),b={class:"base_query_oneLine"},I={class:"query_left"},k={key:0,style:{"margin-top":"5px"}},w={id:"favDialog",onclose:"close()",style:{position:"absolute",top:"300px",left:"300px",width:"300px",height:"210px"}},C={class:"base_title"},_={class:"dialog-div",style:{"margin-top":"5px"}},T={class:"dialog-content"},B=d("td",{colspan:"1",style:{"text-align":"right"}},"字典名",-1),D={colspan:"1"},j=d("td",{colspan:"1",style:{"text-align":"right"}},"数据值",-1),q={colspan:"1"},F=d("td",{colspan:"1",style:{"text-align":"right"}},"数据标题",-1),P={colspan:"1"},U={colspan:"2"};const V=s(v,[["render",function(t,e,s,u,h,g){const N=m;return p(),i(r,null,[d("div",x,[y,d("div",b,[d("div",I,[d("button",{style:{"margin-left":"5px"},class:"commButton",onClick:e[0]||(e[0]=(...e)=>t.addItemFirst&&t.addItemFirst(...e))}," 添加数据项名 "),d("button",{class:"commButton",style:{"margin-left":"5px"},onClick:e[1]||(e[1]=(...e)=>t.addItem&&t.addItem(...e))}," 添加数据项 "),d("button",{class:"commButton",style:{"margin-left":"5px"},onClick:e[2]||(e[2]=(...e)=>t.editItem&&t.editItem(...e))}," 修改 "),d("button",{class:"commButton",style:{"margin-left":"5px"},onClick:e[3]||(e[3]=(...e)=>t.deleteItem&&t.deleteItem(...e))}," 删除 ")])]),null!==t.nodes?(p(),i("div",k,[o(N,{data:t.nodes,props:t.defaultProps,accordion:"",onNodeClick:t.onNodeClick},null,8,["data","props","onNodeClick"])])):l("",!0)]),d("dialog",w,[d("div",C,a(t.dialogTitle),1),d("div",_,[d("table",T,[d("tr",null,[B,d("td",D,a(t.editedNode.parentTitle),1)]),d("tr",null,[j,d("td",q,[n(d("input",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.editedNode.value=e),class:"commInput"},null,512),[[c,t.editedNode.value]])])]),d("tr",null,[F,d("td",P,[n(d("input",{"onUpdate:modelValue":e[5]||(e[5]=e=>t.editedNode.title=e),class:"commInput"},null,512),[[c,t.editedNode.title]])])]),d("tr",null,[d("td",U,[d("button",{class:"commButton",onClick:e[6]||(e[6]=e=>t.close()),style:{"margin-right":"30px","margin-left":"80px"}}," 取消 "),d("button",{class:"commButton",onClick:e[7]||(e[7]=e=>t.confirm())},"确认")])])])])])],64)}]]);export{V as default};
